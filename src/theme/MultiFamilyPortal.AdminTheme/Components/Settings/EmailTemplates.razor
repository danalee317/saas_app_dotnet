
<TelerikGrid Data=@_emailTemplates>
  <GridColumns>
    <GridColumn Field=@nameof(Data.Models.EmailTemplate.Key) />
    <GridColumn Field=@nameof(Data.Models.EmailTemplate.LastUpdated) DisplayFormat="{0:MMMM dd yyyy}" />
    <GridCommandColumn>
      <GridCommandButton Title="Edit" Command="CustomEdit" IconClass="fad fa-pencil" OnClick=@OnEditItem>Edit</GridCommandButton>
    </GridCommandColumn>
  </GridColumns>
</TelerikGrid>


<TelerikWindow Visible=@(_selected != null)
               Modal="true"
               Width="650px"
               Height="500px">
<WindowActions>
  <WindowAction Name="Close" />
</WindowActions>
<WindowTitle>
  <h3>Edit Email - @_selected.Key</h3>
</WindowTitle>
<WindowContent>
  <TelerikTabStrip TabPosition=TabPosition.Top>
    <TabStripTab Title="HTML">
      <TelerikEditor @bind-Value=@_selected.Html />
    </TabStripTab>
    <TabStripTab Title="Plain Text">
      <div class="row">
        <div class="col-12 form-group">
          <TelerikTextArea @bind-Value=@_selected.PlainText
                           AutoSize=false
                           Class="form-control" />
        </div>
      </div>
    </TabStripTab>
    <TabStripTab Title="About">
      <p>We'll have some information here about the data model so you know what you can use for keys...</p>
    </TabStripTab>
  </TelerikTabStrip>
  <div class="row text-center mt-3">
    <div class="col-12">
      <TelerikButton Title="Save"
                     ButtonType=@ButtonType.Button
                     Primary=@true
                     OnClick=@OnUpdateTemplate>Save</TelerikButton>
    </div>
  </div>
</WindowContent>
</TelerikWindow>

<PortalNotification @ref="notification" />
